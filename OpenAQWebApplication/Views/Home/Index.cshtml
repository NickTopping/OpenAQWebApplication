@using OpenAQWebApplication.ViewModels;
@using OpenAQWebApp.Controllers;
@using OpenAQ.Mappers;

@model AreaSelectionViewModel
@{
    ViewBag.Title = "OpenAQ Readings";
}

@{
    var measurementResults = HomeController.GetMeasurementsRequest("Canterbury", "");
}

<h2>Measurements by City</h2>

<div class="wrapper" style="margin-top:10px;">
    <h1>OpenAQ</h1>

    <div id="ddlCountryModel">
        @Html.DropDownListFor(m => m.CountryModel.SelectedCountryCode, Model.CountryModel.CountryDropdownItems)
    </div>
    <div id="ddlCityModel">
        @Html.DropDownListFor(m => m.CityModel.SelectedCityName, Model.CityModel.CityDropdownItems)
    </div>

    @* Separate div for grid - bound to selected city name *@
    <div id="gridContainer" class="wrapper" style="margin-top:10px;">
        @Html.Partial("Grid", MeasurementsMapper.MapMeasurements(measurementResults))
    </div>

</div>